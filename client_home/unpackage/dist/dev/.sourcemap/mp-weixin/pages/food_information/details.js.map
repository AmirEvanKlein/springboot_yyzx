{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?fc23","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?64f3","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?acf0","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?1f49","uni-app:///pages/food_information/details.vue","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?3a68","webpack:///C:/Users/60922/Desktop/springboot游泳中心管理系统/client_home/pages/food_information/details.vue?54c6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","list_comment","bar_title","form_editor","data","url_get_obj","field","query","obj","praise","state_praise","collect","state_collect","bar_url","methods","openUrl","console","uni","url","get_praise","source_table","source_field","source_id","user_id","change_praise","_this","praise_len","get_collect","change_collect","get_comment","add_hits","hits","get_obj_after","created","mounted"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC6IrnB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;QACA;MACA;MACA;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAEA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAX;MACA;MACAC;MACA;MACAW;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACAC;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MAEA;QACAC;QACAC;QACAC;MACA;QACA;UACA;UACAN;QACA,OACA;UACA;UACAA;QACA;MACA;MAEA;QACAI;QACAC;QACAC;QACAC;MACA;QACA;UACA;UACAP;QACA,OACA;UACA;UACAA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAQ;MAAA;MACA;MAEA;QACAJ;QACAC;QACAC;QACAC;MACA;MAEA;MACAE;MACA;MACA;QACA;QACA;UACA;YACA;YACA;cACAC;YACA;cACA;gBACAV;cACA,OACA;gBACAA;cACA;YACA;YACA;UACA,OACA;YACA;YACAA;UACA;QACA;MACA;QACA;QACA;UACA;YACA;YACA;cACAU;YACA;cACA;gBACAV;cACA,OACA;gBACAA;cACA;YACA;YACA;UACA,OACA;YACA;YACAA;UACA;QACA;MACA;MAAA;IACA;IAEA;AACA;AACA;AACA;IACAW;MAAA;MACA;MAEA;QACAP;QACAC;QACAC;QACAC;MACA;MAEA;QACAP;QACA;UACA;UACA;UACAA;QACA,OACA;UACAA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAY;MAAA;MACA;MAEA;QACAR;QACAC;QACAC;QACAC;MACA;;MAEA;MACA;QACA;QACA;UACA;YACA;UACA,OACA;YACA;YACAP;UACA;QACA;MACA;QACA;QACAT;QACAA;QACA;UACA;YACA;UACA,OACA;YACA;YACAS;UACA;QACA;MACA;MAAA;IACA;IAEA;AACA;AACA;AACA;IACAa;MAAA;MACA;QACAT;QACAC;QACAC;MACA;QACA;UACA;UACA;UACAN;QACA,OACA;UACAA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAc;MAAA;MACAtB;MACA;MACA;QACAuB;MACA;QACA;UACAf;UACA;YACAI;YACAC;YACAC;YACAC;UACA;UACA;YACAP;UACA;QACA,OACA;UACAA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAgB;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;EAEA;EACAC,6BACA;EACAC,6BACA;AACA;AAAA,2B;;;;;;;;;;;;;AClbA;AAAA;AAAA;AAAA;AAAm3B,CAAgB,o3BAAG,EAAC,C;;;;;;;;;;;ACAv4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/food_information/details.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/food_information/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=2df95912&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/food_information/details.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=template&id=2df95912&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$check_field(\"get\", \"food_name\")\n  var m1 = _vm.$check_field(\"get\", \"cover\")\n  var m2 = m1 ? _vm.$fullUrl(_vm.obj[\"cover\"]) : null\n  var m3 = _vm.$check_field(\"get\", \"food_unit_price\")\n  var m4 = _vm.$check_field(\"get\", \"flavor\")\n  var m5 = _vm.$check_field(\"get\", \"food_materials\")\n  var m6 = _vm.$check_field(\"get\", \"details\")\n  var m7 = _vm.$check_action(\"/food_order/edit\", \"add\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page_food_information diy_detail diy_detail--new\" id=\"food_information_details\">\r\n\t\t<view class=\"warp\">\r\n\t\t\t<view class=\"container-fluid\">\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<view v-if=\"$check_field('get','food_name')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>美食名称</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_text\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ obj[\"food_name\"] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"$check_field('get','cover')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>封面</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_img\">\r\n\t\t\t\t\t\t\t\t<img :src=\"$fullUrl(obj['cover'])\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"$check_field('get','food_unit_price')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>美食单价</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_number\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ obj[\"food_unit_price\"] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"$check_field('get','flavor')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>口味</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_text\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ obj[\"flavor\"] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"$check_field('get','food_materials')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>美食材料</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_text\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{{ obj[\"food_materials\"] }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"$check_field('get','details')\" class=\"col-12 col-6\">\r\n\t\t\t\t\t\t<view class=\"view\">\r\n\t\t\t\t\t\t\t<view class=\"diy_title\">\r\n\t\t\t\t\t\t\t\t<span>详情介绍</span>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"diy_field diy_html\" v-html=\"obj['details']\" >\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<view class=\"col-12 col-md-4 view\">\r\n\t\t\t\t\t<span>点赞{{ obj[\"praise_len\"] }}</span>\r\n\t\t\t\t</view>\r\n\t\r\n\t\r\n\t\t\t\t\t<view class=\"col-12 col-md-4 view\">\r\n\t\t\t\t\t<span>点击数{{ obj[\"hits\"] }}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<!-- 评论区标题 -->\r\n\t\t<view class=\"bar_title comment_title\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<navigator :url=\"bar_url\">\r\n\t\t\t\t\t<text>\r\n\t\t\t\t\t\t{{ bar_title }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 评论区列表 -->\r\n\t\t<list_comment :list=\"list_comment\"></list_comment>\r\n\r\n\t\t<view class=\"warp\">\r\n\t\t\t<view class=\"container-fluid container-fluid-comment--new\">\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<view class=\"col\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" v-if=\"$check_action('/food_order/edit','add')\" @click=\"to_form('/pages/food_order/edit')\">\r\n\t\t\t\t\t\t\t<span>下单购买</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\r\n<!--\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"cancel()\">返回</button>-->\r\n\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"change_praise()\">\r\n\t\t\t\t\t\t\t<span>点赞</span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\r\n\t\t\t\t\t\t<navigator class=\"btn link\"\r\n\t\t\t\t\t\t\t:url=\"'/pages/comment/edit?source_table=food_information&source_field=food_information_id&source_id=' + obj['food_information_id']\">\r\n\t\t\t\t\t\t\t评论\r\n\t\t\t\t\t\t</navigator>\r\n\r\n\t\t\t\t\t\t<navigator @click=\"change_collect()\" class=\"btn publish_box\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"heart\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>收藏</text>\r\n\t\t\t\t\t\t</navigator>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport list_comment from \"@/components/diy/list_comment.vue\";\r\n\timport bar_title from \"@/components/diy/bar_title.vue\";\r\n\timport form_editor from \"@/components/diy/form_editor.vue\";\r\n\r\n\timport mixin from \"@/libs/mixins/page.js\";\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\t\tcomponents: {\r\n\t\t\tlist_comment,\r\n\t\t\tbar_title,\r\n\t\t\tform_editor\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turl_get_obj: \"~/api/food_information/get_obj?\",\r\n\t\t\t\tfield: \"food_information_id\",\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t\"food_information_id\": 0\r\n\t\t\t\t},\r\n\t\t\t\t// 商品详情初始化\r\n\t\t\t\tobj: {\r\n\t\t\t\t\t\t\"food_name\": \"\",\r\n\t\t\t\t\t\t\t\"cover\": \"\",\r\n\t\t\t\t\t\t\t\"food_unit_price\": 0,\r\n\t\t\t\t\t\t\t\"flavor\": \"\",\r\n\t\t\t\t\t\t\t\"food_materials\": \"\",\r\n\t\t\t\t\t\t\t\"details\": \"\",\r\n\t\t\t\t\t\t\"hits\": 0,\r\n\t\t\t\t\t\"praise_len\": 0,\r\n\t\t\t\t\t\"food_information_id\": 0,\r\n\r\n\t\t\t\t},\r\n\t\t\t\t// 点赞\r\n\t\t\t\tpraise: 0,\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tstate_praise: false,\r\n\t\t\t\t// 收藏\r\n\t\t\t\tcollect: 0,\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tstate_collect: false,\r\n\t\t\t\t// 评论列表初始化\r\n\t\t\t\tlist_comment: [],\r\n\t\t\t\t// 评论bar标题\r\n\t\t\t\tbar_title: \"评论区\",\r\n\t\t\t\t// 评论bar的链接\r\n\t\t\t\tbar_url: \"\",\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenUrl(url) {\r\n\t\t\t\tconsole.log(1111)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/webview/webview?url=${url}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取点赞\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: obj[\"food_information_id\"]\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.praise = res.result;\r\n\t\t\t\t\t\tconsole.log(\"点赞数：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$get(\"~/api/praise/count?\", {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: obj[\"food_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tthis.state_praise = res.result ? true : false;\r\n\t\t\t\t\t\tconsole.log(\"点赞状态：\" ,res.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变点赞数\r\n\t\t\t */\r\n\t\t\tchange_praise(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"food_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar _this = this;\r\n        _this.obj.praise_len = parseInt(_this.obj.praise_len)\r\n\t\t\t\t// 点赞状态\r\n\t\t\t\tif (this.state_praise) {\r\n\t\t\t\t\tthis.state_praise = false;\r\n\t\t\t\t\tthis.$get('~/api/praise/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len-1\r\n\t\t\t\t\t\t\tthis.$post('~/api/food_information/set?food_information_id=' + _this.obj[\"food_information_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"取消点赞\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_praise = true;\r\n\t\t\t\t\tthis.$post('~/api/praise/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tvar praise_len = _this.obj.praise_len+1\r\n\t\t\t\t\t\t\tthis.$post('~/api/food_information/set?food_information_id=' + _this.obj[\"food_information_id\"], {\r\n\t\t\t\t\t\t\t\tpraise_len\r\n\t\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"添加点赞数状态：\" ,res.result);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$toast(\"点赞成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 初始化收藏状态\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_collect(obj) {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: obj[\"food_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.$get('~/api/collect/count?', query, (res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.result || res.result === 0) {\r\n\t\t\t\t\t\tvar bl = res.result ? true : false;\r\n\t\t\t\t\t\tthis.state_collect = bl;\r\n\t\t\t\t\t\tconsole.log(\"收藏状态：\" + bl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error) {\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 改变收藏状态\r\n\t\t\t */\r\n\t\t\tchange_collect() {\r\n\t\t\t\tvar user_id = this.user.user_id;\r\n\r\n\t\t\t\tvar query = {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: this.obj[\"food_information_id\"],\r\n\t\t\t\t\tuser_id\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 收藏状态\r\n\t\t\t\tif (this.state_collect) {\r\n\t\t\t\t\tthis.state_collect = false;\r\n\t\t\t\t\tthis.$get('~/api/collect/del?', query, (res) => {\r\n\t\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\t\tthis.$toast(\"取消收藏\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state_collect = true;\r\n\t\t\t\t\t\t\t\tquery.title = this.obj.food_name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery.img = this.obj.cover\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$post('~/api/collect/add?', query, (res) => {\r\n\t\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\t\tthis.$toast(\"收藏成功\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (res.error) {\r\n\t\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 获取评论\r\n\t\t\t * @param {Object} obj\r\n\t\t\t */\r\n\t\t\tget_comment(obj) {\r\n\t\t\t\tthis.$get(\"~/api/comment/get_list?\", {\r\n\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\tsource_id: obj[\"food_information_id\"]\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif (res.result && res.result.list) {\r\n\t\t\t\t\t\tvar list = res.result.list;\r\n\t\t\t\t\t\tthis.list_comment = list;\r\n\t\t\t\t\t\tconsole.log(\"评论请求结果：\" ,list);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 添加访问量\r\n\t\t\t */\r\n\t\t\tadd_hits(obj) {\r\n\t\t\t\tobj[\"hits\"] = obj[\"hits\"] + 1;\r\n\t\t\t\tvar hits = obj[\"hits\"];\r\n\t\t\t\tthis.$post('~/api/food_information/set?food_information_id=' + obj[\"food_information_id\"], {\r\n\t\t\t\t\thits\r\n\t\t\t\t}, (res) => {\r\n\t\t\t\t\tif(res.result){\r\n\t\t\t\t\t\tconsole.log(\"添加访问量状态：\" ,res.result);\r\n\t\t\t\t\t\tvar body = {\r\n\t\t\t\t\t\t\tsource_table: \"food_information\",\r\n\t\t\t\t\t\t\tsource_field: \"food_information_id\",\r\n\t\t\t\t\t\t\tsource_id: this.obj.food_information_id,\r\n\t\t\t\t\t\t\tuser_id: this.$store.state.user.user_id,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$post(\"~/api/hits/add?\", body, (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(res.error){\r\n\t\t\t\t\t\tconsole.error(res.error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 获取对象之后\r\n\t\t\t * @param {Object} json 结果对象\r\n\t\t\t */\r\n\t\t\tget_obj_after(json) {\r\n\t\t\t\t// 判断是否获取到数据\r\n\t\t\t\tif (this.obj) {\r\n\t\t\t\t\tvar obj = this.obj;\r\n\t\t\t\t\t// 获取点赞数\r\n\t\t\t\t\tthis.get_praise(obj);\r\n\t\t\t\t\t// 初始化收藏状态\r\n\t\t\t\t\tthis.get_collect(obj);\r\n\t\t\t\t\t// 获取评论\r\n\t\t\t\t\tthis.get_comment(obj);\r\n\t\t\t\t\t// 增加点击数\r\n\t\t\t\t\tthis.add_hits(obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\t\t\t\t\t},\r\n\t\tcreated() {\r\n\t\t\t\t\t\t\t\t},\r\n\t\tmounted() {\r\n\t\t},\r\n\t}\r\n\r\n</script>\r\n\r\n<style>\r\n\t.page_goods {\r\n\t\tpadding-bottom: 3rem;\r\n\t}\r\n\r\n\t.link {\r\n\t\ttext-align: center;\r\n\t\tpadding: 0.5rem 0;\r\n\t\tborder: 1px solid #DBDBDB;\r\n\t\tborder-radius: 0.5rem;\r\n\t}\r\n\r\n\t.buy_wrap {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.dialog {\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 999;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tpadding: 20vh 0;\r\n\t}\r\n\r\n\t.dialog-content {\r\n\t\twidth: 500upx;\r\n\t\theight: 60vh;\r\n\t\tmargin: 0 auto;\r\n\t\tbackground: #FFF;\r\n\t\tborder-radius: 10upx;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding:  5vh;\r\n\t\ttext-align: center;\r\n\r\n\t}\r\n\t.dialog-content span{\r\n\t\tmargin-top:  3vh;\r\n\t\t}\r\n\r\n\t.dialog-close {\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t\tborder-radius: 20upx;\r\n\t\tposition: absolute;\r\n\t\tright: 10upx;\r\n\t\ttop: 10upx;\r\n\t\tfont-size: 26upx;\r\n\t\tline-height: 40upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.dialog-list {\r\n\t\tpadding: 40upx 20upx;\r\n\t}\r\n\r\n\tscroll-view {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.show-dialog {\r\n\t\tanimation: 100ms showDialog linear forwards;\r\n\t}\r\n\r\n\t.hide-dialog {\r\n\t\tanimation: 100ms hideDialog linear forwards;\r\n\t}\r\n\r\n\t@keyframes hideDialog {\r\n\t\t0% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\r\n\t\t100% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes showDialog {\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t/* new style start */\r\n\t.diy_detail--new{\r\n\t\tpadding: 5px;\r\n\t}\r\n\t.diy_detail--new .view {\r\n\t\tborder-bottom: 1px solid #ccc;\r\n\t\tpadding: 8px 0 ;\r\n\t}\r\n\t.diy_detail--new .view uni-view{\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.diy_detail--new .view .diy_title{\r\n\t\tcolor: var(--color_primary);\r\n\t\tmargin-right: 5px;\r\n\t\tvertical-align: top;\r\n\t}\r\n\t.diy_detail--new .view .diy_img img{\r\n\t\twidth: 100%;\r\n\t}\r\n\t.diy_detail--new .view .diy_music{\r\n\t\tvertical-align: text-top;\r\n\t}\r\n\t.diy_detail--new .bar_title{\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 2px;\r\n\t\tbackground: var(--color_primary);\r\n\t\tborder-radius: 10px;\r\n\t\theight: 46px;\r\n\t}\r\n\t.diy_detail--new .bar_title .title{\r\n\t\tmargin: 0 auto;\r\n\t\tcolor: var(--color_white);\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.diy_detail--new .container-fluid-comment--new{\r\n\t\tmargin: 10px 0.6rem;\r\n\t}\r\n\t.diy_detail--new .container-fluid-comment--new .col{\r\n\t\tdisplay: flex;\r\n\t\tflex: auto;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-direction: row;\r\n\t\tmargin-left: -10px;\r\n\t}\r\n\t.diy_detail--new .container-fluid-comment--new .btn{\r\n\t\tdisplay: inline-block;\r\n\t\tborder: none;\r\n\t\tbackground: var(--color_primary);\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 16px !important;\r\n\t\tpadding: 2px 12px !important;\r\n\t\tborder-radius: 20px;\r\n\t\tline-height: inherit;\r\n\t\tmargin-bottom: 5px;\r\n\t\tmargin-left: 10px;\r\n\t\tmargin-right: 0;\r\n\t}\r\n\t.diy_detail--new .container-fluid-comment--new .btn:after{\r\n\t\tdisplay: none;\r\n\t}\r\n\t.diy_detail--new .container-fluid-comment--new .btn .uni-icons{\r\n\t\tcolor: #fff !important;\r\n\t}\r\n\t.diy_detail--new .comment_title{\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\t/* new style end */\r\n\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677760199702\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}